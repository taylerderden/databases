-- MySQL Script generated by MySQL Workbench
-- Mon Nov 14 19:49:09 2022
-- Model: New Model    Version: 1.0
-- MySQL Workbench Forward Engineering

SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0;
SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0;
SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION';

-- -----------------------------------------------------
-- Schema mydb
-- -----------------------------------------------------
-- -----------------------------------------------------
-- Schema ISPr23-35_RogozhnikovaYO_uchet_gaza
-- -----------------------------------------------------

-- -----------------------------------------------------
-- Schema ISPr23-35_RogozhnikovaYO_uchet_gaza
-- -----------------------------------------------------
CREATE SCHEMA IF NOT EXISTS `ISPr23-35_RogozhnikovaYO_uchet_gaza` DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci ;
USE `ISPr23-35_RogozhnikovaYO_uchet_gaza` ;

-- -----------------------------------------------------
-- Table `ISPr23-35_RogozhnikovaYO_uchet_gaza`.`Lgota`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `ISPr23-35_RogozhnikovaYO_uchet_gaza`.`Lgota` (
  `idLgota` INT NOT NULL AUTO_INCREMENT,
  `Lgota_Name` VARCHAR(45) NOT NULL,
  `Lgota_Koefficent` DOUBLE NOT NULL,
  PRIMARY KEY (`idLgota`))
ENGINE = InnoDB
AUTO_INCREMENT = 6
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_0900_ai_ci;


-- -----------------------------------------------------
-- Table `ISPr23-35_RogozhnikovaYO_uchet_gaza`.`Tarif`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `ISPr23-35_RogozhnikovaYO_uchet_gaza`.`Tarif` (
  `idTarif` INT NOT NULL AUTO_INCREMENT,
  `Tarif_Name` VARCHAR(45) NOT NULL,
  `Tarif_Price` DOUBLE NOT NULL,
  PRIMARY KEY (`idTarif`))
ENGINE = InnoDB
AUTO_INCREMENT = 4
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_0900_ai_ci;


-- -----------------------------------------------------
-- Table `ISPr23-35_RogozhnikovaYO_uchet_gaza`.`Abonent`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `ISPr23-35_RogozhnikovaYO_uchet_gaza`.`Abonent` (
  `idAbonent` INT NOT NULL AUTO_INCREMENT,
  `Abonent_Schet` VARCHAR(45) NOT NULL,
  `Abonent_FIO` VARCHAR(45) NOT NULL,
  `Abonent_Adress` VARCHAR(45) NOT NULL,
  `Abonent_Square` VARCHAR(45) NOT NULL,
  `Abonent_People` INT NOT NULL,
  `Tarif_idTarif` INT NOT NULL,
  `Lgota_idLgota` INT NOT NULL,
  PRIMARY KEY (`idAbonent`),
  INDEX `fk_Abonent_Tarif1_idx` (`Tarif_idTarif` ASC) VISIBLE,
  INDEX `fk_Abonent_Lgota1_idx` (`Lgota_idLgota` ASC) VISIBLE,
  CONSTRAINT `fk_Abonent_Lgota1`
    FOREIGN KEY (`Lgota_idLgota`)
    REFERENCES `ISPr23-35_RogozhnikovaYO_uchet_gaza`.`Lgota` (`idLgota`),
  CONSTRAINT `fk_Abonent_Tarif1`
    FOREIGN KEY (`Tarif_idTarif`)
    REFERENCES `ISPr23-35_RogozhnikovaYO_uchet_gaza`.`Tarif` (`idTarif`))
ENGINE = InnoDB
AUTO_INCREMENT = 11
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_0900_ai_ci;


-- -----------------------------------------------------
-- Table `ISPr23-35_RogozhnikovaYO_uchet_gaza`.`Authorization`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `ISPr23-35_RogozhnikovaYO_uchet_gaza`.`Authorization` (
  `idAuthorization` INT NOT NULL AUTO_INCREMENT,
  `Authorization_Login` VARCHAR(45) CHARACTER SET 'utf8mb4' COLLATE 'utf8mb4_0900_ai_ci' NOT NULL,
  `Authorization_Password` VARCHAR(45) CHARACTER SET 'utf8mb4' COLLATE 'utf8mb4_0900_ai_ci' NOT NULL,
  `Authorization_Category` VARCHAR(45) CHARACTER SET 'utf8mb4' COLLATE 'utf8mb4_0900_ai_ci' NULL DEFAULT NULL,
  `Abonent_idAbonent` INT NOT NULL,
  PRIMARY KEY (`idAuthorization`),
  INDEX `fk_Abonent_Abonent1_idx` (`Abonent_idAbonent` ASC) VISIBLE)
ENGINE = InnoDB
AUTO_INCREMENT = 13
DEFAULT CHARACTER SET = utf8mb3;


-- -----------------------------------------------------
-- Table `ISPr23-35_RogozhnikovaYO_uchet_gaza`.`Dolg`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `ISPr23-35_RogozhnikovaYO_uchet_gaza`.`Dolg` (
  `idDolg` INT NOT NULL AUTO_INCREMENT,
  `Dolg_Summa` VARCHAR(45) NOT NULL,
  `Abonent_idAbonent` INT NOT NULL,
  PRIMARY KEY (`idDolg`),
  INDEX `fk_Dolg_Abonent1_idx` (`Abonent_idAbonent` ASC) VISIBLE,
  CONSTRAINT `fk_Dolg_Abonent1`
    FOREIGN KEY (`Abonent_idAbonent`)
    REFERENCES `ISPr23-35_RogozhnikovaYO_uchet_gaza`.`Abonent` (`idAbonent`))
ENGINE = InnoDB
AUTO_INCREMENT = 11
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_0900_ai_ci;


-- -----------------------------------------------------
-- Table `ISPr23-35_RogozhnikovaYO_uchet_gaza`.`Pokazanie`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `ISPr23-35_RogozhnikovaYO_uchet_gaza`.`Pokazanie` (
  `idPokazanie` INT NOT NULL AUTO_INCREMENT,
  `Pokazanie_Previous` VARCHAR(45) NOT NULL,
  `Pokazanie_Current` VARCHAR(45) NOT NULL,
  `Pokazanie_Data` VARCHAR(45) NOT NULL,
  `Pokazanie_SchetchikNomer` VARCHAR(45) NOT NULL,
  `Abonent_idAbonent` INT NULL DEFAULT NULL,
  PRIMARY KEY (`idPokazanie`),
  INDEX `fk_Abonent_idAbonent_idx` (`Abonent_idAbonent` ASC) VISIBLE,
  CONSTRAINT `fk_Abonent_idAbonent`
    FOREIGN KEY (`Abonent_idAbonent`)
    REFERENCES `ISPr23-35_RogozhnikovaYO_uchet_gaza`.`Abonent` (`idAbonent`))
ENGINE = InnoDB
AUTO_INCREMENT = 3
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_0900_ai_ci;


-- -----------------------------------------------------
-- Table `ISPr23-35_RogozhnikovaYO_uchet_gaza`.`Authorisation`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `ISPr23-35_RogozhnikovaYO_uchet_gaza`.`Authorisation` (
  `idAuthorisation` INT NOT NULL AUTO_INCREMENT,
  `Authorisation_Login` VARCHAR(45) NOT NULL,
  `Authorisation_Password` VARCHAR(45) NOT NULL,
  `Authorisation_Category` VARCHAR(45) NOT NULL,
  `Abonent_idAbonent` INT NOT NULL,
  PRIMARY KEY (`idAuthorisation`),
  INDEX `fk_Authorisation_Abonent1_idx` (`Abonent_idAbonent` ASC) VISIBLE,
  CONSTRAINT `fk_Authorisation_Abonent1`
    FOREIGN KEY (`Abonent_idAbonent`)
    REFERENCES `ISPr23-35_RogozhnikovaYO_uchet_gaza`.`Abonent` (`idAbonent`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


SET SQL_MODE=@OLD_SQL_MODE;
SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS;
SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS;
